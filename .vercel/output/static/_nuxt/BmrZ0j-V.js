import{I as R,s as F,r as V,c as k,o as x,F as M,p as P,C as N,f as T,a as o,b as m,k as E,t as U,g as i,w as C,j as z,d as $,J as j,v as O,B as D,x as G,n as Z}from"./BVdw5vJQ.js";import{_ as S}from"./0-e7FVdg.js";import{u as q}from"./DOzJKxRB.js";import{u as H}from"./C4HB1ECi.js";import{u as J}from"./CTp7W1AJ.js";import{_ as Q}from"./DW2cZgo6.js";import{u as W,r as X}from"./COQxO7zj.js";const Y={class:"flex gap-5 justify-center"},ee=["value","onInput","onKeyup"],te={__name:"InputPin",props:R({length:{type:Number,default:6}},{modelValue:{type:String,default:()=>[]},modelModifiers:{}}),emits:["update:modelValue"],setup(f){const v=f,_=F(f,"modelValue",{get(e){return e?e.split(""):Array.from({length:v.length},()=>"")},set(e){if("index"in e&&"value"in e){const r=structuredClone(_.value);return r[e.index]=e.value,r.join("")}return e}}),u=V();function p(e,r){var a,y,c,h;const n=e.keyCode||e.charCode;if(n==8||n==46)return r-1>0?(y=(a=u.value[r-2])==null?void 0:a.focus)==null?void 0:y.call(a):void 0;/\d/.test(String.fromCharCode(n))&&((h=(c=u.value[r])==null?void 0:c.focus)==null||h.call(c))}function d(e,r){const{value:n}=r.target;_.value={index:e,value:n}}return(e,r)=>(x(),k("div",Y,[(x(!0),k(M,null,P(f.length,n=>(x(),k("input",{ref_for:!0,ref_key:"inputElement",ref:u,key:`pin-${n}`,value:_.value[n-1],class:"outline-none border-b bg-transparent w-9 text-center",maxlength:1,onInput:a=>d(n-1,a),onKeyup:a=>p(a,n)},null,40,ee))),128))]))}},se={class:"flex gap-7 items-center"},ne={class:"px-16 pb-16 pt-9"},ae={class:"text-center font-medium text-black/80 mt-2"},oe={class:"space-y-16 mt-16"},re={key:0,class:"text-black/25 text-sm text-center"},le={key:1,class:"text-black/25 text-sm text-center"},_e={__name:"Otp",props:{loading:{type:Boolean,default:!1},loadingResend:{type:Boolean,default:!1}},emits:["next","back","resend"],setup(f,{expose:v,emit:_}){const u=_,{registrationForm:p}=N(q()),d=V(""),e=V(""),{maskEmail:r}=H(),n=T(()=>r(p.value.email)),{startCountdown:a,displayValue:y,isRunning:c}=J();a(30);function h(){d.value.length===6&&u("next",{otp:d.value})}return v({startCountdown:()=>a(30),setError:w=>{e.value=w}}),(w,s)=>{const t=E,l=te,B=S;return x(),k(M,null,[o("div",se,[m(t,{icon:"i-heroicons:arrow-left",variant:"link",onClick:s[0]||(s[0]=b=>u("back"))}),s[3]||(s[3]=o("h3",{class:"text-xl font-normal"},"Masukkan Kode OTP",-1))]),o("div",ne,[s[7]||(s[7]=o("p",{class:"text-center text-sm text-black/80"}," Kode OTP telah dikirim via e-mail ke ",-1)),o("p",ae,U(i(n)),1),o("form",oe,[m(B,{error:i(e),ui:{error:"text-center"}},{default:C(()=>[m(l,{modelValue:i(d),"onUpdate:modelValue":s[1]||(s[1]=b=>z(d)?d.value=b:null)},null,8,["modelValue"])]),_:1},8,["error"]),o("div",null,[i(c)?(x(),k("p",re," Mohon tunggu "+U(i(y))+" detik untuk mengirim ulang. ",1)):(x(),k("div",le,[s[5]||(s[5]=$(" Tidak mendapatkan kode? ",-1)),m(t,{variant:"link",padded:!1,color:"blue",loading:f.loadingResend,onClick:s[2]||(s[2]=b=>u("resend"))},{default:C(()=>[...s[4]||(s[4]=[$(" Kirim Ulang ",-1)])]),_:1},8,["loading"])])),m(t,{block:"",class:"uppercase mt-2",loading:f.loading,disabled:i(d).length!==6,onClick:h},{default:C(()=>[...s[6]||(s[6]=[$(" Berikutnya ",-1)])]),_:1},8,["loading","disabled"])])])])],64)}}},ie={class:"flex gap-7 items-center"},ue={class:"px-16 pb-16 pt-9"},de={class:"!mt-2"},ye={__name:"Password",props:{loading:{type:Boolean,default:!1}},emits:["next","back"],setup(f,{expose:v,emit:_}){const u=_,p=V({password:""}),d=[{message:"Min. satu karakter huruf kecil",key:"lowercase"},{message:"Min. satu karakter huruf besar",key:"uppercase"},{message:"8-16 karakter",key:"validLength"},{message:"Hanya huruf, angka, dan tanda baca umum yang dapat digunakan",key:"allowedChar"}],e=j({lowercase:!1,uppercase:!1,validLength:!1,allowedChar:!1});function r(t){return/[a-z]/.test(t)}function n(t){return/[A-Z]/.test(t)}function a(t){return t.length>=8&&t.length<=16}function y(t){return/^[a-zA-Z0-9,.!?-]+$/.test(t)}O(()=>p.value.password,t=>{e.lowercase=r(t),e.uppercase=n(t),e.validLength=a(t),e.allowedChar=y(t)});const c=V({}),w=W({password:{required:X,validLength:a,minLowerCase:n,minUpperCase:n,validCharacter:y}},p,{$autoDirty:!0,$externalResults:c});async function s(){c.value={},await w.value.$validate()&&u("next",{password:p.value.password})}return v({setError:t=>{c.value=t}}),(t,l)=>{var I,L;const B=E,b=Q,A=S,K=Z;return x(),k(M,null,[o("div",ie,[m(B,{icon:"i-heroicons:arrow-left",variant:"link",onClick:l[0]||(l[0]=g=>u("back"))}),l[2]||(l[2]=o("h3",{class:"text-xl font-normal"},"Atur Password Kamu",-1))]),o("div",ue,[o("form",{class:"space-y-6",onSubmit:D(s,["prevent"])},[l[4]||(l[4]=o("p",{class:"text-center text-sm text-black/80"},"Buat password baru",-1)),m(A,{error:(L=(I=i(w).password.$errors)==null?void 0:I[0])==null?void 0:L.$message},{default:C(()=>[m(b,{modelValue:i(p).password,"onUpdate:modelValue":l[1]||(l[1]=g=>i(p).password=g),placeholder:"Password",size:"lg"},null,8,["modelValue"])]),_:1},8,["error"]),o("ul",de,[(x(),k(M,null,P(d,g=>o("li",{key:g.key,class:G(["text-sm py-1",{"text-red-500":!i(e)[g.key],"text-green-500":i(e)[g.key]}])},[$(U(g.message)+" ",1),m(K,{name:i(e)[g.key]?"i-heroicons:check-circle":"i-heroicons:x-circle",class:"w-5 h-5 -mb-1.5"},null,8,["name"])],2)),64))]),m(B,{type:"submit",block:"",class:"uppercase",loading:f.loading},{default:C(()=>[...l[3]||(l[3]=[$(" Berikutnya ",-1)])]),_:1},8,["loading"])],32)])],64)}}};export{_e as _,ye as a};
