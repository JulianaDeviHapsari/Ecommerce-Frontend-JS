import{_ as U}from"./C0KUnU0L.js";import{_ as C}from"./D_Ip9zNA.js";import{r as k,f as y,h as R,w as r,o as v,a as h,b as n,c as $,i as z,g as a,B as A,k as F,t as u,d as S}from"./BVdw5vJQ.js";import{_ as P}from"./D0T0ISyS.js";import{_ as E}from"./Cdgg-7JV.js";import{f as M}from"./CX-HCZMl.js";import{S as H}from"./D5C2oj6j.js";import{u as I}from"./CCYVfaL6.js";import"./BNT2PxbG.js";import"./C97eXVNd.js";import"./Dq2jcSPC.js";import"./9dOsKKNX.js";import"./DOwuRLCg.js";import"./CxIZtCgj.js";import"./BSNo9jaY.js";import"./DF4dXhcg.js";import"./BkpUadhd.js";import"./p7QnFScQ.js";import"./DOzJKxRB.js";const L={class:"mt-4 space-y-4"},O={key:0,class:"text-lg font-medium"},ma={__name:"index",setup(j){const d=[{label:"Semua",key:"all"},{label:"Belum Dibayar",key:"pending_payment"},{label:"Sudah Dibayar",key:"paid"},{label:"Sedang Diproses",key:"on_processing"},{label:"Dikirim",key:"on_delivery"},{label:"Selesai",key:"done"},{label:"Dibatalkan",key:"failed"}],w=[{key:"invoice_number",label:"No. Pesanan"},{key:"total",label:"Harga Total"},{key:"last_status.status",label:"Status",rowClass:"capitalize"},{key:"action",label:"Aksi"}],o=k({search:void 0,last_status:0}),s=k({page:1,per_page:10}),{data:i,status:c,execute:p}=I("/server/api/seller-dashboard/order",{key:"order-seller",params:y(()=>({...s.value,...o.value,last_status:o.value.last_status?d[o.value.last_status].key:void 0})),transform(t){return(t==null?void 0:t.data)||{}},watch:!1}),x=y(()=>{var t;return((t=i.value)==null?void 0:t.data)||[]});function V(){s.value.page=1,p()}function _(){s.value.page=1,o.value.search=void 0,p()}return(t,l)=>{const B=U,D=C,m=F,N=P,T=E;return v(),R(T,{title:"Pesanan Saya"},{default:r(()=>{var f,b;return[h("div",L,[n(B,{modelValue:a(o).last_status,"onUpdate:modelValue":[l[0]||(l[0]=e=>a(o).last_status=e),_],items:d,content:!1,ui:{wrapper:"border-b border-gray-100",list:{width:"w-[unset] border-none",tab:{base:"font-normal"}}}},null,8,["modelValue"]),h("form",{class:"flex gap-4 items-center",onSubmit:A(V,["prevent"])},[n(D,{modelValue:a(o).search,"onUpdate:modelValue":l[1]||(l[1]=e=>a(o).search=e),class:"flex-1",placeholder:"Masukkan no. pesanan"},null,8,["modelValue"]),n(m,{label:"Terapkan",size:"xs",variant:"outline",type:"submit"}),n(m,{label:"Reset",size:"xs",color:"white",onClick:_})],32),a(c)!=="pending"?(v(),$("p",O,u(((f=a(i))==null?void 0:f.total)||0)+" Pesanan ",1)):z("",!0),n(N,{page:a(s).page,"onUpdate:page":[l[2]||(l[2]=e=>a(s).page=e),a(p)],total:((b=a(i))==null?void 0:b.total)||0,"per-page":a(s).per_page,columns:w,rows:a(x),loading:a(c)==="pending"},{"last_status.status-data":r(({row:e})=>{var g;return[S(u((g=a(H))==null?void 0:g[e.last_status.status]),1)]}),"total-data":r(({row:e})=>[S(" Rp"+u(("formatNumber"in t?t.formatNumber:a(M))(e.total)),1)]),"action-data":r(({row:e})=>[n(m,{variant:"link",color:"blue",padded:!1,label:"Lihat Detail",to:`/seller/order/${e.uuid}`},null,8,["to"])]),_:2},1032,["page","total","per-page","rows","loading","onUpdate:page"])])]}),_:1})}}};export{ma as default};
