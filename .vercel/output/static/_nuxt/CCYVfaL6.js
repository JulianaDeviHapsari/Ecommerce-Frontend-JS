var k=Object.defineProperty;var q=(a,e,t)=>e in a?k(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var B=(a,e,t)=>q(a,typeof e!="symbol"?e+"":e,t);import{l as H,ai as P,f as E,r as O,a6 as L,$,aj as F,ak as K,M as N,v as U,ae as j,af as V,al as W,am as I,g as G,an as b,J,ao as X,z as Z}from"./BVdw5vJQ.js";import{o as Q,u as Y}from"./DOzJKxRB.js";function A(a){return Array.isArray(a)?a:[a]}const tt=a=>a==="defer"||a===!1;function et(...a){var S;const e=typeof a[a.length-1]=="string"?a.pop():void 0;typeof a[0]!="string"&&a.unshift(e);let[t,o,s={}]=a;if(typeof t!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof o!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const n=H(),r=o,h=()=>P.value,y=()=>n.isHydrating?n.payload.data[t]:n.static.data[t];s.server=s.server??!0,s.default=s.default??h,s.getCachedData=s.getCachedData??y,s.lazy=s.lazy??!1,s.immediate=s.immediate??!0,s.deep=s.deep??P.deep,s.dedupe=s.dedupe??"cancel";const l=s.getCachedData(t,n),m=l!=null;if(!n._asyncData[t]||!s.immediate){(S=n.payload._errors)[t]??(S[t]=P.errorValue);const f=s.deep?O:L;n._asyncData[t]={data:f(m?l:s.default()),pending:O(!m),error:$(n.payload._errors,t),status:O("idle"),_default:s.default}}const i={...n._asyncData[t]};delete i._default,i.refresh=i.execute=(f={})=>{if(n._asyncDataPromises[t]){if(tt(f.dedupe??s.dedupe))return n._asyncDataPromises[t];n._asyncDataPromises[t].cancelled=!0}if(f._initial||n.isHydrating&&f._initial!==!1){const d=f._initial?l:s.getCachedData(t,n);if(d!=null)return Promise.resolve(d)}i.pending.value=!0,i.status.value="pending";const _=new Promise((d,c)=>{try{d(r(n))}catch(p){c(p)}}).then(async d=>{if(_.cancelled)return n._asyncDataPromises[t];let c=d;s.transform&&(c=await s.transform(d)),s.pick&&(c=at(c,s.pick)),n.payload.data[t]=c,i.data.value=c,i.error.value=P.errorValue,i.status.value="success"}).catch(d=>{if(_.cancelled)return n._asyncDataPromises[t];i.error.value=I(d),i.data.value=G(s.default()),i.status.value="error"}).finally(()=>{_.cancelled||(i.pending.value=!1,delete n._asyncDataPromises[t])});return n._asyncDataPromises[t]=_,n._asyncDataPromises[t]},i.clear=()=>st(n,t);const D=()=>i.refresh({_initial:!0}),u=s.server!==!1&&n.payload.serverRendered;{const f=F();if(f&&!f._nuxtOnBeforeMountCbs){f._nuxtOnBeforeMountCbs=[];const c=f._nuxtOnBeforeMountCbs;K(()=>{c.forEach(p=>{p()}),c.splice(0,c.length)}),N(()=>c.splice(0,c.length))}u&&n.isHydrating&&(i.error.value||l!=null)?(i.pending.value=!1,i.status.value=i.error.value?"error":"success"):f&&(n.payload.serverRendered&&n.isHydrating||s.lazy)&&s.immediate?f._nuxtOnBeforeMountCbs.push(D):s.immediate&&D();const _=V();if(s.watch){const c=U(s.watch,()=>i.refresh());_&&j(c)}const d=n.hook("app:data:refresh",async c=>{(!c||c.includes(t))&&await i.refresh()});_&&j(d)}const C=Promise.resolve(n._asyncDataPromises[t]).then(()=>i);return Object.assign(C,i),C}function Bt(a){const e=H();return a in e.payload.data||(e.payload.data[a]=P.value),{data:E({get(){var t;return((t=e._asyncData[a])==null?void 0:t.data.value)??e.payload.data[a]},set(t){e._asyncData[a]?e._asyncData[a].data.value=t:e.payload.data[a]=t}})}}async function wt(a){await new Promise(t=>W(t));const e=a?A(a):void 0;await H().hooks.callHookParallel("app:data:refresh",e)}function st(a,e){e in a.payload.data&&(a.payload.data[e]=void 0),e in a.payload._errors&&(a.payload._errors[e]=P.errorValue),a._asyncData[e]&&(a._asyncData[e].data.value=void 0,a._asyncData[e].error.value=P.errorValue,a._asyncData[e].pending.value=!1,a._asyncData[e].status.value="idle"),e in a._asyncDataPromises&&(a._asyncDataPromises[e]&&(a._asyncDataPromises[e].cancelled=!0),a._asyncDataPromises[e]=void 0)}function at(a,e){const t={};for(const o of e)t[o]=a[o];return t}class w{constructor(e,t){B(this,"words");B(this,"sigBytes");e=this.words=e||[],this.sigBytes=t===void 0?e.length*4:t}toString(e){return(e||nt).stringify(this)}concat(e){if(this.clamp(),this.sigBytes%4)for(let t=0;t<e.sigBytes;t++){const o=e.words[t>>>2]>>>24-t%4*8&255;this.words[this.sigBytes+t>>>2]|=o<<24-(this.sigBytes+t)%4*8}else for(let t=0;t<e.sigBytes;t+=4)this.words[this.sigBytes+t>>>2]=e.words[t>>>2];return this.sigBytes+=e.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new w([...this.words])}}const nt={stringify(a){const e=[];for(let t=0;t<a.sigBytes;t++){const o=a.words[t>>>2]>>>24-t%4*8&255;e.push((o>>>4).toString(16),(o&15).toString(16))}return e.join("")}},ot={stringify(a){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=[];for(let o=0;o<a.sigBytes;o+=3){const s=a.words[o>>>2]>>>24-o%4*8&255,n=a.words[o+1>>>2]>>>24-(o+1)%4*8&255,r=a.words[o+2>>>2]>>>24-(o+2)%4*8&255,h=s<<16|n<<8|r;for(let y=0;y<4&&o*8+y*6<a.sigBytes*8;y++)t.push(e.charAt(h>>>6*(3-y)&63))}return t.join("")}},it={parse(a){const e=a.length,t=[];for(let o=0;o<e;o++)t[o>>>2]|=(a.charCodeAt(o)&255)<<24-o%4*8;return new w(t,e)}},rt={parse(a){return it.parse(unescape(encodeURIComponent(a)))}};class ct{constructor(){B(this,"_data",new w);B(this,"_nDataBytes",0);B(this,"_minBufferSize",0);B(this,"blockSize",512/32)}reset(){this._data=new w,this._nDataBytes=0}_append(e){typeof e=="string"&&(e=rt.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes}_doProcessBlock(e,t){}_process(e){let t,o=this._data.sigBytes/(this.blockSize*4);e?o=Math.ceil(o):o=Math.max((o|0)-this._minBufferSize,0);const s=o*this.blockSize,n=Math.min(s*4,this._data.sigBytes);if(s){for(let r=0;r<s;r+=this.blockSize)this._doProcessBlock(this._data.words,r);t=this._data.words.splice(0,s),this._data.sigBytes-=n}return new w(t,n)}}class lt extends ct{update(e){return this._append(e),this._process(),this}finalize(e){e&&this._append(e)}}const T=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],ut=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],v=[];class ft extends lt{constructor(){super(...arguments);B(this,"_hash",new w([...T]))}reset(){super.reset(),this._hash=new w([...T])}_doProcessBlock(t,o){const s=this._hash.words;let n=s[0],r=s[1],h=s[2],y=s[3],l=s[4],m=s[5],i=s[6],D=s[7];for(let u=0;u<64;u++){if(u<16)v[u]=t[o+u]|0;else{const p=v[u-15],g=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,z=v[u-2],R=(z<<15|z>>>17)^(z<<13|z>>>19)^z>>>10;v[u]=g+v[u-7]+R+v[u-16]}const C=l&m^~l&i,S=n&r^n&h^r&h,f=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),_=(l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25),d=D+_+C+ut[u]+v[u],c=f+S;D=i,i=m,m=l,l=y+d|0,y=h,h=r,r=n,n=d+c|0}s[0]=s[0]+n|0,s[1]=s[1]+r|0,s[2]=s[2]+h|0,s[3]=s[3]+y|0,s[4]=s[4]+l|0,s[5]=s[5]+m|0,s[6]=s[6]+i|0,s[7]=s[7]+D|0}finalize(t){super.finalize(t);const o=this._nDataBytes*8,s=this._data.sigBytes*8;return this._data.words[s>>>5]|=128<<24-s%32,this._data.words[(s+64>>>9<<4)+14]=Math.floor(o/4294967296),this._data.words[(s+64>>>9<<4)+15]=o,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}}function dt(a){return new ft().finalize(a).toString(ot)}function ht(a,e={}){const t=typeof a=="string"?a:Q(a,e);return dt(t).slice(0,10)}function yt(a,e,t){const[o={},s]=typeof e=="string"?[{},e]:[e,t],n=E(()=>b(a)),r=o.key||ht([s,typeof n.value=="string"?n.value:"",..._t(o)]);if(!r||typeof r!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+r);if(!a)throw new Error("[nuxt] [useFetch] request is missing.");const h=r===s?"$f"+r:r;if(!o.baseURL&&typeof n.value=="string"&&n.value[0]==="/"&&n.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:y,lazy:l,default:m,transform:i,pick:D,watch:u,immediate:C,getCachedData:S,deep:f,dedupe:_,...d}=o,c=J({...X,...d,cache:typeof o.cache=="boolean"?void 0:o.cache}),p={server:y,lazy:l,default:m,transform:i,pick:D,immediate:C,getCachedData:S,deep:f,dedupe:_,watch:u===!1?[]:[c,n,...u||[]]};let g;return et(h,()=>{var M;(M=g==null?void 0:g.abort)==null||M.call(g,"Request aborted as another request to the same endpoint was initiated."),g=typeof AbortController<"u"?new AbortController:{};const R=b(o.timeout);let x;return R&&(x=setTimeout(()=>g.abort("Request aborted due to timeout."),R),g.signal.onabort=()=>clearTimeout(x)),(o.$fetch||globalThis.$fetch)(n.value,{signal:g.signal,...c}).finally(()=>{clearTimeout(x)})},p)}function _t(a){var t;const e=[((t=b(a.method))==null?void 0:t.toUpperCase())||"GET",b(a.baseURL)];for(const o of[a.params||a.query]){const s=b(o);if(!s)continue;const n={};for(const[r,h]of Object.entries(s))n[b(r)]=b(h);e.push(n)}return e}function vt(a,e){const t=Z(),o=Y();return yt(a,{onRequest({options:s}){o.token&&s.headers.set("Authorization",`Bearer ${o.token}`)},onResponseError({response:s}){var n,r;(r=(n=s._data.meta)==null?void 0:n.messages)!=null&&r[0]&&t.add({color:"red",title:s._data.meta.messages[0]})},retry:!1,...e},"$XZNBBKKDbc")}export{Bt as a,et as b,wt as r,vt as u};
