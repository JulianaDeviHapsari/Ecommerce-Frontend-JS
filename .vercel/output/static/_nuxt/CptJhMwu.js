import{_ as H}from"./j9dIvsdS.js";import{_ as L,y as Q,r as E,z as F,f as u,h as $,w as o,o as c,c as b,b as r,g as s,a as e,t as m,i as V,k as K,d as k,j as O,A as z}from"./BVdw5vJQ.js";import{_ as G}from"./p7QnFScQ.js";import{_ as W}from"./DE8bu4_G.js";import{_ as X}from"./MFBl4QUC.js";import{f as Y}from"./CX-HCZMl.js";import{u as Z}from"./D-tWdPvO.js";import{u as tt}from"./CTp7W1AJ.js";import{u as at}from"./CCYVfaL6.js";import{a as et}from"./D9IPX4lg.js";import{f as st}from"./C__g2RLv.js";import"./Bish5eGS.js";import"./DOwuRLCg.js";import"./C97eXVNd.js";import"./C0tuFO62.js";import"./9dOsKKNX.js";import"./Bm92f-5u.js";import"./CxIZtCgj.js";import"./BwKW8Zfl.js";import"./Cxa_hSt3.js";import"./D1CtcXX4.js";import"./DOzJKxRB.js";import"./B4TYcooI.js";import"./CovN8vff.js";const ot={key:0,class:"flex gap-2 justify-center py-6"},nt={class:"flex items-center gap-4"},it={class:"flex justify-center"},rt={class:"max-w-[500px] w-full divide-y"},mt={class:"payment-item justify-between"},lt={class:"text-base font-medium text-primary"},dt={class:"payment-item justify-between"},pt={class:"text-right"},ut={class:"text-primary text-base font-medium"},ct={class:"text-black/55 font-normal"},_t={class:"payment-item flex-col gap-5"},ft={class:"flex gap-2"},yt=["src"],xt={key:0},bt={class:"flex gap-4 mt-1 items-center"},kt={class:"text-primary text-xl"},vt=["src"],gt={class:"flex justify-end mt-1"},wt={__name:"[orderId]",setup(Bt){const v=Q(),_=E(!1),R=F(),{copy:S}=Z(),{displayValue:A,startCountdown:D}=tt(),{data:n,status:M,refresh:j}=at(u(()=>`/server/api/order/${v.params.orderId}`),{onResponse({response:a}){var t,l,i,p;if(a.ok){(l=(t=a._data)==null?void 0:t.data)!=null&&l.is_paid&&(_.value=!0);const f=(p=(i=a._data)==null?void 0:i.data)==null?void 0:p.payment_expired_at;if(f){const x=et(f);D(x)}}}}),q=u(()=>{const a=A.value.split(":");return a[2]?`${a[0]} Jam ${a[1]} Menit ${a[2]} Detik`:a[1]?`00 Jam ${a[0]} Menit ${a[1]} Detik`:`00 Jam 00 Menit ${a[0]} Detik`}),d=u(()=>{var a,t;return(t=(a=n.value)==null?void 0:a.data)==null?void 0:t.payment_method}),P=u(()=>{var a,t;if((t=(a=n.value)==null?void 0:a.data)!=null&&t.payment_expired_at){const l=new Date(n.value.data.payment_expired_at);return st(l,"dd MMM yyyy, HH:mm")}return""}),g=u(()=>[{value:"bni_va",label:"Bank BNI",image:"/images/logo-bni.webp"},{value:"qris",label:"QRIS",image:"/images/qris.png"}].find(a=>a.value===d.value)),w={bni_va:{description:"Bayar pesanan ke Virtual Account di atas sebelum membuat pesanan kembali dengan Virtual Account agar nomor tetap sama.",caption:"Hanya menerima dari Bank BNI"},qris:{description:"Bayar pesanan ke QRIS di atas sebelum membuat pesanan kembali dengan QRIS agar nomor tetap sama.",caption:"Menerima dari semua Bank"}};function U(){var a,t;S((t=(a=n.value)==null?void 0:a.data)==null?void 0:t.virtual_account_number),R.add({color:"green",title:"Berhasil menyalin"})}function J(){z(`/my-account/orders/${v.params.orderId}`)}function T(){j()}return(a,t)=>{const l=H,i=K,p=G,f=W,x=X;return c(),$(x,{class:"py-5 text-black/85 text-sm"},{default:o(()=>[s(M)==="pending"?(c(),b("div",ot,[r(l,{class:"w-6 text-primary"}),t[1]||(t[1]=e("p",null,"Loading...",-1))])):(c(),$(p,{key:1},{header:o(()=>[e("div",nt,[r(i,{padded:!1,icon:"i-heroicons:arrow-left",variant:"link",color:"black"}),t[2]||(t[2]=e("p",{class:"text-xl"},"Pembayaran",-1))])]),default:o(()=>{var y,B,h,C,I,N;return[e("div",it,[e("div",rt,[e("div",mt,[t[3]||(t[3]=e("span",{class:"text-base font-normal"},"Total Pembayaran",-1)),e("span",lt,"Rp"+m(("formatNumber"in a?a.formatNumber:s(Y))((B=(y=s(n))==null?void 0:y.data)==null?void 0:B.total_payment)),1)]),e("div",dt,[t[4]||(t[4]=e("span",{class:"text-base font-normal"},"Bayar Dalam",-1)),e("div",pt,[e("p",ut,m(s(q)),1),e("p",ct," Jatuh tempo "+m(s(P)),1)])]),e("div",_t,[e("div",ft,[e("img",{src:s(g).image,class:"w-6 object-contain"},null,8,yt),e("p",null,m(s(g).label),1)]),s(d)==="bni_va"?(c(),b("div",xt,[t[6]||(t[6]=e("p",null,"No. Rekening",-1)),e("div",bt,[e("p",kt,m((C=(h=s(n))==null?void 0:h.data)==null?void 0:C.virtual_account_number),1),r(i,{variant:"link",color:"teal",padded:!1,onClick:U},{default:o(()=>[...t[5]||(t[5]=[k(" SALIN ",-1)])]),_:1})])])):V("",!0),s(d)==="qris"?(c(),b("img",{key:1,src:(N=(I=s(n))==null?void 0:I.data)==null?void 0:N.qris_image_url,class:"w-60 mx-auto"},null,8,vt)):V("",!0),t[8]||(t[8]=e("p",{class:"text-teal-500"}," Proses verifikasi kurang dari 10 menit setelah pembayaran berhasil ",-1)),e("p",null,m(w[s(d)].description),1),e("p",null,m(w[s(d)].caption),1),r(i,{block:"",class:"max-w-72 mx-auto mt-7",onClick:T},{default:o(()=>[...t[7]||(t[7]=[k("OK",-1)])]),_:1})])])])]}),_:1})),r(f,{modelValue:s(_),"onUpdate:modelValue":t[0]||(t[0]=y=>O(_)?_.value=y:null),"prevent-close":""},{default:o(()=>[r(p,{ui:{rounded:"rounded"}},{default:o(()=>[t[10]||(t[10]=e("p",{class:"text-lg"},"Pembayaran Berhasil",-1)),t[11]||(t[11]=e("p",{class:"text-black/55 text-s mt-5"}," Silakan cek notifikasi untuk mengetahui status pengiriman. ",-1)),e("div",gt,[r(i,{block:"",class:"max-w-44 mt-10",onClick:J},{default:o(()=>[...t[9]||(t[9]=[k(" OK ",-1)])]),_:1})])]),_:1})]),_:1},8,["modelValue"])]),_:1})}}},zt=L(wt,[["__scopeId","data-v-221bec90"]]);export{zt as default};
