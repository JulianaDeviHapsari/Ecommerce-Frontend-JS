import{I as b,s as F,r as w,c as n,o,i as m,F as v,L as C,a as s,b as k,n as V,t as p,p as j,k as $}from"./BVdw5vJQ.js";const E={class:"flex gap-4 flex-wrap"},S={class:"text-center text-xs"},B=["accept"],L=["src"],M={key:1,preload:"metadata"},N=["src"],U={class:"absolute bg-black/50 inset-0 items-center justify-center hidden group-hover/photos:flex"},R={__name:"Media",props:b({max:{type:Number,default:1},type:{type:String,default:"image",validator:e=>["video","image"].includes(e)},icon:{type:String,default:"i-heroicons:photo-solid"}},{modelValue:{type:Array,default:()=>[]},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const f=e,i={image:".jpeg,.png",video:".mp4"},a=F(e,"modelValue"),c=w();function h(){c.value.value=null,c.value.click()}function x(t){var l;const r=(l=t.target.files)==null?void 0:l[0],u=i[f.type].split(","),d=r.name.split(".").pop();if(!u.includes(`.${d}`)){alert(`Format file tidak didukung. Silakan upload file ${i[f.type]}`);return}a.value.push(r)}function _(t){a.value.splice(t,1)}function g(t){return typeof t=="string"?t:window.URL.createObjectURL(t)}return(t,r)=>{const u=V,d=$;return o(),n("div",E,[a.value.length<e.max?(o(),n(v,{key:0},[C(t.$slots,"activator",{onChooseFile:h},()=>[s("div",{role:"button",class:"rounded border-2 border-dashed p-3 flex items-center justify-center flex-col gap-1 w-20 h-20 text-primary",onClick:h},[k(u,{name:e.icon,class:"w-6"},null,8,["name"]),s("p",S," Tambahkan "+p(e.type==="image"?"Foto":"Video")+" ("+p(a.value.length)+"/"+p(e.max)+") ",1)])]),s("input",{ref_key:"inputFileElement",ref:c,type:"file",accept:i[e.type],class:"hidden",onChange:x},null,40,B)],64)):m("",!0),(o(!0),n(v,null,j(a.value,(l,y)=>(o(),n("div",{key:`img-${y}`,class:"rounded border-2 w-20 h-20 relative group/photos flex items-center justify-center"},[e.type==="image"?(o(),n("img",{key:0,src:g(l),class:"w-full h-full object-cover rounded"},null,8,L)):m("",!0),e.type==="video"?(o(),n("video",M,[s("source",{src:`${g(l)}#t=0.1`,type:"video/mp4"},null,8,N)])):m("",!0),s("div",U,[k(d,{icon:"i-heroicons:x-mark-20-solid",variant:"link",onClick:I=>_(y)},null,8,["onClick"])])]))),128))])}}};export{R as _};
