import{_ as ct}from"./BPDoLG8j.js";import{_ as W}from"./p7QnFScQ.js";import{_ as ut}from"./MFBl4QUC.js";import{_ as dt}from"./CfqeqQ9U.js";import{_ as Y}from"./0kcxaRLk.js";import{_ as mt}from"./D-5CLahU.js";import{s as pt}from"./D1CtcXX4.js";import{r as L,R as _t,S as gt,c as d,o as n,b as l,a as t,w as g,h as b,i as w,g as s,x as G,F as D,_ as J,q as vt,y as X,f as y,d as B,t as c,p as R,k as tt,G as et,l as ft,z as xt,T as ht,U as yt,V as kt,n as bt}from"./BVdw5vJQ.js";import{_ as st}from"./C_ZdkJcR.js";import{_ as wt}from"./Br08c1V3.js";import{_ as $t}from"./BmF-Z5ul.js";import{_ as Ct}from"./BD6unLEd.js";import{_ as Bt}from"./j9dIvsdS.js";import{_ as Dt}from"./BkpUadhd.js";import{u as at,r as Pt}from"./CCYVfaL6.js";import{_ as Vt}from"./CnIjBAtT.js";import{_ as jt}from"./rUE9myqw.js";import{u as Et,b as St,a as Ut,r as Z}from"./COQxO7zj.js";import{f as Q}from"./CX-HCZMl.js";import{u as It}from"./BFX_Otd8.js";import"./D_Ip9zNA.js";import"./BSNo9jaY.js";import"./DOzJKxRB.js";const Rt={key:1,class:"w-full aspect-[1/1] object-cover",autoplay:"",muted:"",controls:""},At=["src"],Mt={class:"mt-3"},Nt=["src","onClick"],Tt={__name:"Carousel",props:{items:{type:Array,default:()=>[]}},setup($){const i=L(),P=L();let k;return _t(()=>{k=pt(()=>{if(i.value){if(i.value.page===i.value.pages)return P.value.select(0),i.value.select(0);i.value.page>=5&&P.value.next(),i.value.next()}},5e3)}),gt(()=>{clearInterval(k)}),(_,a)=>{const E=Y,S=mt;return n(),d(D,null,[l(S,{ref_key:"carouselElement",ref:i,items:$.items,ui:{item:"basis-full",container:"h-full"},class:"max-h-[450px] aspect-[1/1]"},{default:g(({item:r})=>[r.type==="img"?(n(),b(E,{key:0,src:r.src,class:"w-full aspect-[1/1] object-cover",draggable:"false",format:"webp"},null,8,["src"])):w("",!0),r.type==="video"?(n(),d("video",Rt,[t("source",{src:r.src,type:"video/mp4"},null,8,At),a[0]||(a[0]=t("p",null,"Your browser does not support the video tag.",-1))])):w("",!0)]),_:1},8,["items"]),t("div",Mt,[l(S,{ref_key:"indicatorsElement",ref:P,items:$.items,ui:{item:"basis-1/5"},"prev-button":{class:"text-white bg-black/20 rounded-none px-1 py-3 left-1 shadow-none",icon:"i-heroicons:chevron-left"},"next-button":{class:"text-white bg-black/20 rounded-none px-1 py-3 right-1 shadow-none",icon:"i-heroicons:chevron-right"},arrows:"",class:"max-w-[450px]"},{default:g(({item:r,index:u})=>{var v,h;return[r.type==="img"?(n(),b(E,{key:0,src:r.src,class:G(["max-w-[82px] aspect-[1/1] m-1 object-cover",[((v=s(i))==null?void 0:v.page)===u+1?"ring-2 ring-primary":"ring-0"]]),role:"button",format:"webp",onClick:C=>{var f;return(f=s(i))==null?void 0:f.select(u+1)}},null,8,["src","class","onClick"])):w("",!0),r.type==="video"?(n(),d("video",{key:1,src:r.src,class:G(["max-w-[82px] aspect-[1/1] m-1 object-cover",[((h=s(i))==null?void 0:h.page)===u+1?"ring-2 ring-primary":"ring-0"]]),role:"button",onClick:C=>{var f;return(f=s(i))==null?void 0:f.select(u+1)}},null,10,Nt)):w("",!0)]}),_:1},8,["items"])])],64)}}},qt={},zt={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"};function Ft($,i){return n(),d("svg",zt,[...i[0]||(i[0]=[vt('<g clip-path="url(#clip0_4_4268)"><path d="M0.666016 0.666016H3.59935L6.93268 14.666H16.5327L19.3327 4.66602H4.93268" stroke="#EE4D2D" stroke-width="1.33333" stroke-miterlimit="10" stroke-linecap="round"></path><path d="M7.99935 19.3327C8.73573 19.3327 9.33268 18.7357 9.33268 17.9993C9.33268 17.263 8.73573 16.666 7.99935 16.666C7.26297 16.666 6.66602 17.263 6.66602 17.9993C6.66602 18.7357 7.26297 19.3327 7.99935 19.3327Z" fill="#EE4D2D"></path><path d="M15.3333 19.3327C16.0697 19.3327 16.6667 18.7357 16.6667 17.9993C16.6667 17.263 16.0697 16.666 15.3333 16.666C14.597 16.666 14 17.263 14 17.9993C14 18.7357 14.597 19.3327 15.3333 19.3327Z" fill="#EE4D2D"></path><path d="M10 9.33203H14" stroke="#EE4D2D" stroke-width="1.33333" stroke-miterlimit="10" stroke-linecap="round"></path><path d="M12 11.332V7.33203" stroke="#EE4D2D" stroke-width="1.33333" stroke-miterlimit="10" stroke-linecap="round"></path></g><defs><clipPath id="clip0_4_4268"><rect width="20" height="20" fill="white"></rect></clipPath></defs>',2)])])}const Lt=J(qt,[["render",Ft]]),Ht={class:"mt-3 border border-primary-100/80 bg-primary-50/30 rounded-sm p-8 flex gap-8 items-center"},Kt={class:"flex flex-col items-center"},Ot={class:"text-primary text-lg"},Gt={class:"text-3xl"},Zt={class:"flex flex-wrap gap-2 items-center"},Qt={class:"flex flex-col mt-1 divide-y"},Wt={class:"flex-1"},Yt={class:"flex gap-1 mt-0.5 text-black/55 text-xs"},Jt={key:0,class:"text-sm mt-2"},Xt={key:1,class:"flex gap-2 flex-wrap mt-2"},te={key:0,class:"flex gap-2 justify-center py-6"},ee={key:0,class:"flex justify-end pt-5"},se={__name:"Review",props:{detail:{type:Object,default:()=>({})}},setup($){const i=$,P=X(),k=L({page:1}),_=L(""),{data:a,status:E}=at(y(()=>`/server/api/product/${P.params.slug}/review`),{params:y(()=>{const r={};if(_.value){const[u,v]=_.value.split(":");Object.assign(r,{[u]:v})}return{...k.value,...r}}),transform(r){return r==null?void 0:r.data}}),S=y(()=>{var r,u,v,h,C,f,U;return[{label:"Semua",value:""},{label:`5 Bintang (${(r=i.detail.review_summary)==null?void 0:r[5]})`,value:"rating:5"},{label:`4 Bintang (${(u=i.detail.review_summary)==null?void 0:u[4]})`,value:"rating:4"},{label:`3 Bintang (${(v=i.detail.review_summary)==null?void 0:v[3]})`,value:"rating:3"},{label:`2 Bintang (${(h=i.detail.review_summary)==null?void 0:h[2]})`,value:"rating:2"},{label:`1 Bintang (${(C=i.detail.review_summary)==null?void 0:C[1]})`,value:"rating:1"},{label:`Dengan Komentar (${(f=i.detail.review_summary)==null?void 0:f.with_description})`,value:"with_description:1"},{label:`Dengan Media (${(U=i.detail.review_summary)==null?void 0:U.with_attachment})`,value:"with_attachment:1"}]});return(r,u)=>{const v=st,h=tt,C=et,f=Y,U=Bt,H=Dt,K=W;return n(),b(K,null,{default:g(()=>{var I,o;return[u[4]||(u[4]=t("h3",{class:"text-lg font-normal text-black/85"},"Penilaian Produk",-1)),t("div",Ht,[t("div",Kt,[t("p",Ot,[t("span",Gt,c($.detail.rating),1),u[1]||(u[1]=B(" dari 5 ",-1))]),l(v,{"model-value":$.detail.rating,disabled:"",size:"lg",class:"mt-2"},null,8,["model-value"])]),t("div",Zt,[(n(!0),d(D,null,R(s(S),e=>(n(),b(h,{key:e.label,variant:s(_)===e.value?"outline":"solid",color:s(_)===e.value?"primary":"white",size:"xs",class:"min-w-24 text-sm justify-center",onClick:m=>_.value=e.value},{default:g(()=>[B(c(e.label),1)]),_:2},1032,["variant","color","onClick"]))),128))])]),t("div",Qt,[(n(!0),d(D,null,R((I=s(a))==null?void 0:I.data,e=>{var m;return n(),d("div",{key:`review-${e.user_name}`,class:"flex gap-3 py-4"},[l(C,{src:e.user_photo,alt:e.user_name,icon:"i-heroicons:user",size:"lg","img-class":"object-cover"},null,8,["src","alt"]),t("div",Wt,[t("p",null,c(e.user_name),1),l(v,{"model-value":e.star_seller,disabled:"",class:"mt-1"},null,8,["model-value"]),t("div",Yt,[t("p",null,c(e.created_at),1),u[2]||(u[2]=B(" | ",-1)),t("p",null,c(e.variations),1)]),e.description?(n(),d("p",Jt,c(e.description),1)):w("",!0),(m=e.attachments)!=null&&m.length?(n(),d("div",Xt,[(n(!0),d(D,null,R(e.attachments,x=>(n(),b(f,{key:x,width:"72px",height:"72px",fit:"cover",format:"webp",src:x},null,8,["src"]))),128))])):w("",!0)])])}),128)),s(E)==="pending"?(n(),d("div",te,[l(U,{class:"w-6 text-primary"}),u[3]||(u[3]=t("p",null,"Loading...",-1))])):w("",!0)]),(o=s(a))!=null&&o.total?(n(),d("div",ee,[l(H,{modelValue:s(k).page,"onUpdate:modelValue":u[0]||(u[0]=e=>s(k).page=e),total:s(a).total},null,8,["modelValue","total"])])):w("",!0)]}),_:1})}}},ae={class:"product-briefing"},oe={class:"product-image"},le={class:"product-information space-y-6"},ne={class:"product-briefing"},ie={class:"product-image"},re={class:"product-information"},ce={class:"product-title"},ue={class:"product-summary"},de={class:"product-summary-item"},me={class:"text-primary"},pe={class:"product-summary-item"},_e={class:"text-black/80"},ge={class:"product-summary-item"},ve={class:"text-black/80"},fe={class:"product-price"},xe={class:"text-gray-400 line-through font-normal"},he={class:"text-primary font-normal text-3xl"},ye={key:1,class:"text-primary font-normal text-3xl"},ke={class:"product-variant"},be={class:"flex flex-col gap-6"},we={class:"w-28 text-black/55 text-sm"},$e={class:"flex flex-wrap gap-2"},Ce={class:"flex gap-2 items-center mt-6"},Be={class:"product-seller"},De={class:"flex gap-6 items-center w-96"},Pe={class:"grid grid-cols-2 items-center flex-1"},Ve={class:"flex gap-2 text-sm"},je={class:"text-primary"},Ee={class:"flex gap-2 text-sm"},Se={class:"text-primary"},Ue={class:"flex gap-2 text-sm"},Ie={class:"text-primary"},Re={class:"product-detail"},Ae={class:"flex flex-col gap-4"},Me={class:"product-detail-item"},Ne={class:"product-detail-item"},Te={class:"text-sm font-normal"},qe={class:"product-detail-item"},ze={class:"text-sm font-normal"},Fe=["textContent"],Le={key:0,class:"flex flex-col gap-4 mt-2"},He={class:"flex justify-between gap-2 items-cente"},Ke={class:"grid grid-cols-6 gap-3"},Oe={__name:"[slug]",setup($){const i=ft(),P=X(),k=xt(),_=ht("form-product",()=>({quantity:1})),{data:a,status:E}=at(y(()=>`/server/api/product/${P.params.slug}`),{onResponse({response:o}){o.ok&&o._data.data.variations.forEach(e=>{_.value[e.name]=""}),o.status===404&&i.runWithContext(()=>{throw kt({statusCode:404,message:"Produk tidak ditemukan"})})},transform(o){return(o==null?void 0:o.data)||{}}}),S=y(()=>{var e,m,x;const o={quantity:{required:Z,minValue:Ut(1),maxValue:St(((e=a.value)==null?void 0:e.stock)||0)}};return(x=(m=a.value)==null?void 0:m.variations)==null||x.forEach(V=>{Object.assign(o,{[V.name]:{required:Z}})}),o}),r=Et(S,_,{$autoDirty:!0}),u=y(()=>{var o,e;return[{type:"video",src:(o=a.value)==null?void 0:o.video_url},...(((e=a.value)==null?void 0:e.images)||[]).map(m=>({type:"img",src:m}))]}),v=y(()=>{var o;return Q(((o=a.value)==null?void 0:o.price)||0)}),h=y(()=>{var o;return Q(((o=a.value)==null?void 0:o.price_sale)||0)}),C=y(()=>[{label:"Syopo",to:"/"},{label:a.value.category.parent.name,to:`/search?categories=${a.value.category.slug}`},{label:a.value.category.name,to:`/search?categories=${a.value.category.slug}`},{label:a.value.name}]),f={active:"text-black/80",inactive:"text-[#0055AA]",li:"text-black/80",base:"font-normal"},{execute:U,status:H}=It("/server/api/cart",{onResponse({response:o}){o.ok&&(k.add({color:"green",title:"Produk berhasil ditambahkan ke keranjang"}),Pt("cart"))}});async function K(){var m,x,V,A,N,T,q,j;if(!await r.value.$validate())return k.add({color:"red",title:(N=(x=(m=r.value.$errors)==null?void 0:m[0])==null?void 0:x.$message)==null?void 0:N.replace("Value",(A=(V=r.value.$errors)==null?void 0:V[0])==null?void 0:A.$property)});const e=new FormData;e.append("product_uuid",(T=a.value)==null?void 0:T.uuid),e.append("qty",_.value.quantity),(j=(q=a.value)==null?void 0:q.variations)==null||j.forEach((z,F)=>{e.append(`variations[${F}][label]`,z.name),e.append(`variations[${F}][value]`,_.value[z.name])}),U(e)}const I=y(()=>{var o,e;return`Beli ${(o=a.value)==null?void 0:o.name} Hanya Rp${(e=a.value)!=null&&e.price_sale?h.value:v.value}`});return yt({title:I,ogTitle:()=>`${I.value} | Syopo`,twitterTitle:()=>`${I.value} | Syopo`,ogImage:()=>{var o,e;return(e=(o=a.value)==null?void 0:o.images)==null?void 0:e[0]},twitterImage:()=>{var o,e;return(e=(o=a.value)==null?void 0:o.images)==null?void 0:e[0]},twitterCard:"summary_large_image"}),(o,e)=>{const m=ct,x=W,V=ut,A=dt,N=Tt,T=st,q=wt,j=tt,z=$t,F=Lt,ot=et,lt=Ct,nt=se,it=bt,rt=Vt;return s(E)==="pending"?(n(),b(V,{key:0,as:"section",class:"flex flex-col gap-5 py-5"},{default:g(()=>[l(x,null,{default:g(()=>[t("div",ae,[t("div",oe,[l(m,{class:"w-[450px] h-[450px]"})]),t("div",le,[l(m,{class:"w-full h-6"}),l(m,{class:"w-10/12 h-6"}),l(m,{class:"w-8/12 h-6"}),l(m,{class:"w-10/12 h-6"}),l(m,{class:"w-6/12 h-6"})])])]),_:1})]),_:1})):(n(),b(V,{key:1,as:"section",class:"flex flex-col gap-5 py-5"},{default:g(()=>{var O;return[l(A,{links:s(C),ui:f},null,8,["links"]),l(x,null,{default:g(()=>[t("div",ne,[t("div",ie,[l(N,{items:s(u)},null,8,["items"])]),t("div",re,[t("div",ce,[t("h2",null,c(s(a).name),1),t("div",ue,[t("div",de,[t("span",me,c(s(a).rating),1),l(T,{"model-value":s(a).rating,disabled:""},null,8,["model-value"])]),t("div",pe,[t("span",_e,c(s(a).rating_count),1),e[1]||(e[1]=t("span",{class:"product-summary-item-description"},"Penilaian",-1))]),t("div",ge,[t("span",ve,c(s(a).sale_count),1),e[2]||(e[2]=t("span",{class:"product-summary-item-description"},"Terjual",-1))])])]),t("div",fe,[s(a).price_sale?(n(),d(D,{key:0},[t("p",xe," Rp"+c(s(v)),1),t("p",he,"Rp"+c(s(h)),1),l(q,{size:"xs"},{default:g(()=>[B(c(s(a).price_discount_percentage)+"% OFF ",1)]),_:1})],64)):(n(),d("p",ye," Rp"+c(s(v)),1))]),t("div",ke,[t("div",be,[(n(!0),d(D,null,R(s(a).variations,p=>(n(),d("div",{key:p.name,class:"flex gap-2 items-center"},[t("p",we,c(p.name),1),t("div",$e,[(n(!0),d(D,null,R(p.values,M=>(n(),b(j,{key:`${p.name}-${M}`,color:s(_)[p.name]===M?"primary":"white",variant:s(_)[p.name]===M?"outline":"solid",ui:{base:"min-w-20 justify-center",padding:{sm:"px-2 py-2"}},onClick:Ge=>s(_)[p.name]=M},{default:g(()=>[B(c(M),1)]),_:2},1032,["color","variant","onClick"]))),128))])]))),128))])]),t("div",Ce,[e[3]||(e[3]=t("p",{class:"w-28 text-black/55 text-sm"},"Kuantitas",-1)),l(z,{modelValue:s(_).quantity,"onUpdate:modelValue":e[0]||(e[0]=p=>s(_).quantity=p),max:s(a).stock||0},null,8,["modelValue","max"])]),l(j,{class:"mt-6",variant:"soft",disabled:s(H)==="pending",onClick:K},{default:g(()=>[l(F),e[4]||(e[4]=B(" Masukkan Keranjang ",-1))]),_:1},8,["disabled"]),e[5]||(e[5]=t("hr",{class:"my-5"},null,-1)),e[6]||(e[6]=t("div",{class:"flex gap-5"},[t("div",{class:"flex gap-2"},[t("img",{src:jt}),t("p",{class:"text-black/80 text-sm"},"Garansi Syopo")]),t("p",{class:"text-black/55 text-sm"}," Dapatkan barang pesananmu atau uang kembali. ")],-1))])])]),_:1}),l(x,null,{default:g(()=>[t("div",Be,[t("div",De,[l(ot,{alt:s(a).seller.store_name,size:"3xl","img-class":"object-cover"},null,8,["alt"]),t("div",null,[t("h3",null,c(s(a).seller.store_name),1),l(j,{color:"white",size:"xs",class:"mt-2",to:`/shop/${s(a).seller.username}`},{default:g(()=>[l(lt),e[7]||(e[7]=B(" Kunjungi Toko ",-1))]),_:1},8,["to"])])]),e[11]||(e[11]=t("div",{class:"w-[1px] bg-slate-200"},null,-1)),t("div",Pe,[t("div",Ve,[e[8]||(e[8]=t("p",{class:"text-black/40 w-36"},"Penilaian",-1)),t("p",je,c(s(a).seller.rating_count),1)]),t("div",Ee,[e[9]||(e[9]=t("p",{class:"text-black/40 w-36"},"Bergabung",-1)),t("p",Se,c(s(a).seller.join_date),1)]),t("div",Ue,[e[10]||(e[10]=t("p",{class:"text-black/40 w-36"},"Produk",-1)),t("p",Ie,c(s(a).seller.product_count),1)])])])]),_:1}),l(x,null,{default:g(()=>[t("div",Re,[e[15]||(e[15]=t("div",{class:"product-detail-title"},[t("h3",null,"Spesifikasi Produk")],-1)),t("div",Ae,[t("div",Me,[e[12]||(e[12]=t("p",null,"Kategori",-1)),t("div",null,[l(A,{links:[{label:s(a).category.parent.name,to:`/search?categories=${s(a).category.slug}`},{label:s(a).category.name,to:`/search?categories=${s(a).category.slug}`}],ui:{...f,active:"text-[#0055AA]"}},null,8,["links","ui"])])]),t("div",Ne,[e[13]||(e[13]=t("p",null,"Stok",-1)),t("div",Te,c(s(a).stock),1)]),t("div",qe,[e[14]||(e[14]=t("p",null,"Dikirim dari",-1)),t("div",ze,c(s(a).seller.send_from.city.name),1)])]),e[16]||(e[16]=t("div",{class:"product-detail-title"},[t("h3",null,"Deskripsi Produk")],-1)),t("div",{class:"text-sm text-black/80 whitespace-pre-line",textContent:c(s(a).description)},null,8,Fe)])]),_:1}),l(nt,{detail:s(a)},null,8,["detail"]),(O=s(a).other_product)!=null&&O.length?(n(),d("div",Le,[t("div",He,[e[18]||(e[18]=t("h4",{class:"uppercase text-black/55 font-medium"}," Produk lain dari toko ini ",-1)),l(j,{variant:"link",class:"font-thin",padded:!1,to:`/shop/${s(a).seller.username}`},{default:g(()=>[e[17]||(e[17]=B(" Lihat Semua ",-1)),l(it,{name:"i-heroicons:chevron-right"})]),_:1},8,["to"])]),t("div",Ke,[(n(!0),d(D,null,R(s(a).other_product,p=>(n(),b(rt,{key:`product-${p.uuid}`,title:p.name,price:p.price,image:p.image_url,slug:p.slug,sale:p.sale_count,discount:p.price_discount_percentage},null,8,["title","price","image","slug","sale","discount"]))),128))])])):w("",!0)]}),_:1}))}}},fs=J(Oe,[["__scopeId","data-v-e331e387"]]);export{fs as default};
